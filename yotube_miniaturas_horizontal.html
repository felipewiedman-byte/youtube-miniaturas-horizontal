<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Overlay YouTube Canal RSS Automático</title>
<style>
  body {
    margin: 0;
    background: transparent;
    overflow: hidden;
    font-family: Arial, sans-serif;
  }

  .scroll-container {
    display: flex;
    width: 100%;
    white-space: nowrap;
    animation: scroll 50s linear infinite;
  }

  .item {
    display: inline-flex;
    align-items: center;
    margin-right: 30px;
    background: rgba(0,0,0,0.5);
    padding: 5px 10px;
    border-radius: 5px;
  }

  .item img {
    width: 60px;
    height: 60px;
    object-fit: cover;
    margin-right: 10px;
    border-radius: 5px;
  }

  .item span {
    color: #fff;
    font-size: 16px;
  }

  @keyframes scroll {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }
</style>
</head>
<body>
  <div class="scroll-container" id="playlist"></div>

<script>
  // Aquí pones el link de tu canal
  const CHANNEL_ID = "UCIbWfCngxTPu8Qp4VyN97XA";
  const RSS_URL = `https://www.youtube.com/feeds/videos.xml?channel_id=${CHANNEL_ID}`;

  const container = document.getElementById('playlist');

  async function fetchRSS() {
    try {
      // Usamos un proxy público para evitar CORS
      const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(RSS_URL)}`);
      const data = await response.json();
      const parser = new DOMParser();
      const xml = parser.parseFromString(data.contents, "text/xml");
      const entries = xml.querySelectorAll("entry");

      if(entries.length === 0) {
        container.innerHTML = "<span style='color:white;'>No se encontraron videos.</span>";
        return;
      }

      // Convertimos a array y duplicamos para scroll infinito
      const videos = Array.from(entries).map(entry => {
        const title = entry.querySelector("title").textContent;
        const videoId = entry.querySelector("yt\\:videoId").textContent;
        return { id: videoId, title };
      });

      const items = videos.concat(videos);

      items.forEach(video => {
        const thumbnail = `https://img.youtube.com/vi/${video.id}/default.jpg`;
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML = `<img src="${thumbnail}" alt="${video.title}"><span>${video.title}</span>`;
        container.appendChild(div);
      });

    } catch (e) {
      console.error("Error al cargar RSS:", e);
      container.innerHTML = "<span style='color:white;'>Error cargando videos.</span>";
    }
  }

  fetchRSS();
</script>
</body>
</html>

