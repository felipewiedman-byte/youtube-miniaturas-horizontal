<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Últimos Videos</title>
<style>
body {
  margin: 0;
  background: #000;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

.wrapper {
  display: flex;
  gap: 14px;
  white-space: nowrap;
  animation: scroll 20s linear infinite;
}

.video {
  width: min(220px, 25vw);
  flex-shrink: 0;
}

.video img {
  width: 100%;
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(0,0,0,0.6);
  transition: transform 0.3s;
  cursor: pointer;
}

.video img:hover {
  transform: scale(1.05);
}

.title {
  margin-top: 6px;
  font-size: 12px;
  color: white;
  text-shadow: 0 0 5px black;
  max-height: 32px;
  overflow: hidden;
  text-overflow: ellipsis;
}

@keyframes scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
</style>
</head>
<body>

<div class="wrapper" id="videos"></div>

<script>
// ⚡ Configuración
const API_KEY = "AIzaSyCw1sgSV_qCUSYgiUcYeq0pQUNZIuTdKb4"; // tu API Key
const CHANNEL_ID = "UCIbWfCngxTPu8Qp4VyN97XA"; // tu canal
const MAX_VIDEOS = 6; // cuántos videos mostrar

async function loadVideos() {
  const container = document.getElementById("videos");

  try {
    const res = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet&order=date&maxResults=${MAX_VIDEOS}&type=video`);
    const data = await res.json();

    if (!data.items || data.items.length === 0) throw new Error("No hay videos");

    container.innerHTML = "";

    data.items.forEach(item => {
      if (!item.id.videoId) return;
      container.innerHTML += `
        <div class="video">
          <a href="https://www.youtube.com/watch?v=${item.id.videoId}" target="_blank">
            <img src="https://img.youtube.com/vi/${item.id.videoId}/mqdefault.jpg" alt="${item.snippet.title}">
          </a>
          <div class="title">${item.snippet.title}</div>
        </div>
      `;
    });

    // duplicamos para scroll infinito
    container.innerHTML += container.innerHTML;

  } catch (err) {
    console.error("Error cargando videos:", err);

    // fallback visual con videos de prueba
    const fallbackVideos = [
      { id: { videoId: "dQw4w9WgXcQ" }, snippet: { title: "Video de prueba 1" } },
      { id: { videoId: "kJQP7kiw5Fk" }, snippet: { title: "Video de prueba 2" } },
      { id: { videoId: "3JZ_D3ELwOQ" }, snippet: { title: "Video de prueba 3" } }
    ];

    container.innerHTML = "";
    fallbackVideos.forEach(item => {
      container.innerHTML += `
        <div class="video">
          <a href="https://www.youtube.com/watch?v=${item.id.videoId}" target="_blank">
            <img src="https://img.youtube.com/vi/${item.id.videoId}/mqdefault.jpg" alt="${item.snippet.title}">
          </a>
          <div class="title">${item.snippet.title}</div>
        </div>
      `;
    });
    container.innerHTML += container.innerHTML;
  }
}

loadVideos();
</script>

</body>
</html>
